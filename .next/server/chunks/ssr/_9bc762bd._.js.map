{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/TransactionList.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const TransactionList = registerClientReference(\n    function() { throw new Error(\"Attempted to call TransactionList() from the server but TransactionList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/TransactionList.tsx <module evaluation>\",\n    \"TransactionList\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,kBAAkB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,gEACA","debugId":null}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/TransactionList.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const TransactionList = registerClientReference(\n    function() { throw new Error(\"Attempted to call TransactionList() from the server but TransactionList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/TransactionList.tsx\",\n    \"TransactionList\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,kBAAkB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,4CACA","debugId":null}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/TransactionForm.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const TransactionForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call TransactionForm() from the server but TransactionForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/TransactionForm.tsx <module evaluation>\",\n    \"TransactionForm\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,kBAAkB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,gEACA","debugId":null}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/TransactionForm.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const TransactionForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call TransactionForm() from the server but TransactionForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/TransactionForm.tsx\",\n    \"TransactionForm\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,kBAAkB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,4CACA","debugId":null}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/MonthlyExpensesChart.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const MonthlyExpensesChart = registerClientReference(\n    function() { throw new Error(\"Attempted to call MonthlyExpensesChart() from the server but MonthlyExpensesChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/MonthlyExpensesChart.tsx <module evaluation>\",\n    \"MonthlyExpensesChart\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,uBAAuB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACtD;IAAa,MAAM,IAAI,MAAM;AAAwP,GACrR,qEACA","debugId":null}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/MonthlyExpensesChart.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const MonthlyExpensesChart = registerClientReference(\n    function() { throw new Error(\"Attempted to call MonthlyExpensesChart() from the server but MonthlyExpensesChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/MonthlyExpensesChart.tsx\",\n    \"MonthlyExpensesChart\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,uBAAuB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACtD;IAAa,MAAM,IAAI,MAAM;AAAwP,GACrR,iDACA","debugId":null}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/CategoryPieChart.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const CategoryPieChart = registerClientReference(\n    function() { throw new Error(\"Attempted to call CategoryPieChart() from the server but CategoryPieChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/CategoryPieChart.tsx <module evaluation>\",\n    \"CategoryPieChart\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,mBAAmB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAClD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,iEACA","debugId":null}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/CategoryPieChart.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const CategoryPieChart = registerClientReference(\n    function() { throw new Error(\"Attempted to call CategoryPieChart() from the server but CategoryPieChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/CategoryPieChart.tsx\",\n    \"CategoryPieChart\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,mBAAmB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAClD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,6CACA","debugId":null}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/TotalExpensesCard.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const TotalExpensesCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call TotalExpensesCard() from the server but TotalExpensesCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/TotalExpensesCard.tsx <module evaluation>\",\n    \"TotalExpensesCard\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,oBAAoB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACnD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,kEACA","debugId":null}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/TotalExpensesCard.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const TotalExpensesCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call TotalExpensesCard() from the server but TotalExpensesCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/TotalExpensesCard.tsx\",\n    \"TotalExpensesCard\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,oBAAoB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACnD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,8CACA","debugId":null}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/RecentTransactionsCard.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const RecentTransactionsCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call RecentTransactionsCard() from the server but RecentTransactionsCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/RecentTransactionsCard.tsx <module evaluation>\",\n    \"RecentTransactionsCard\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,yBAAyB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACxD;IAAa,MAAM,IAAI,MAAM;AAA4P,GACzR,uEACA","debugId":null}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/RecentTransactionsCard.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const RecentTransactionsCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call RecentTransactionsCard() from the server but RecentTransactionsCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/RecentTransactionsCard.tsx\",\n    \"RecentTransactionsCard\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,yBAAyB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACxD;IAAa,MAAM,IAAI,MAAM;AAA4P,GACzR,mDACA","debugId":null}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/CategoryBreakdownCard.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const CategoryBreakdownCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call CategoryBreakdownCard() from the server but CategoryBreakdownCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/CategoryBreakdownCard.tsx <module evaluation>\",\n    \"CategoryBreakdownCard\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,wBAAwB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACvD;IAAa,MAAM,IAAI,MAAM;AAA0P,GACvR,sEACA","debugId":null}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/CategoryBreakdownCard.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const CategoryBreakdownCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call CategoryBreakdownCard() from the server but CategoryBreakdownCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/CategoryBreakdownCard.tsx\",\n    \"CategoryBreakdownCard\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,wBAAwB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACvD;IAAa,MAAM,IAAI,MAAM;AAA0P,GACvR,kDACA","debugId":null}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/Budget/BudgetVsActualChart.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const BudgetVsActualChart = registerClientReference(\n    function() { throw new Error(\"Attempted to call BudgetVsActualChart() from the server but BudgetVsActualChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/Budget/BudgetVsActualChart.tsx <module evaluation>\",\n    \"BudgetVsActualChart\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,sBAAsB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACrD;IAAa,MAAM,IAAI,MAAM;AAAsP,GACnR,2EACA","debugId":null}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/Budget/BudgetVsActualChart.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const BudgetVsActualChart = registerClientReference(\n    function() { throw new Error(\"Attempted to call BudgetVsActualChart() from the server but BudgetVsActualChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/Budget/BudgetVsActualChart.tsx\",\n    \"BudgetVsActualChart\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,sBAAsB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACrD;IAAa,MAAM,IAAI,MAAM;AAAsP,GACnR,uDACA","debugId":null}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 311, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/Budget/BudgetCard.tsx"],"sourcesContent":["\"\"\r\n\r\ninterface Transaction{\r\n  _id: string;\r\n  category: string;\r\n  amount: number;\r\n  date: string;\r\n}\r\n\r\ninterface BudgetCardProps {\r\n    category: string;\r\n    budget: number;\r\n    transactions: Transaction[];\r\n    month: number;\r\n    year: number;\r\n    onDelete: () => void;\r\n  }\r\n  \r\n  \r\n\r\n  export function BudgetCard({ category, budget, transactions=[], month, year, onDelete }: BudgetCardProps) {\r\n    const budgetAmount = Number(budget) || 0;\r\n    const monthName = new Date(year, month - 1,1).toLocaleString(\"en-US\", { month: \"long\" });\r\n\r\n    const filteredTransactions = transactions.filter((tx) => {\r\n      const transactionDate = new Date(tx.date);\r\n\r\n      const transactionYear = transactionDate.getUTCFullYear();\r\n      const transactionMonth = transactionDate.getUTCMonth() + 1;\r\n      return transactionYear === year && transactionMonth === month && tx.category === category;\r\n    });\r\n\r\n    const actualAmount = filteredTransactions.reduce((acc, tx) => acc + Number(tx.amount.toFixed(2)), 0);\r\n    const progress = budgetAmount > 0 ? (actualAmount / budgetAmount) * 100 : 0;\r\n  \r\n    return (\r\n      <div className=\"bg-white p-4 rounded-lg shadow-md\">\r\n        <h3 className=\"text-lg font-semibold\">{category} - {monthName} {year}</h3>\r\n        <p className=\"text-gray-600\">Budget: ₹ {budgetAmount.toFixed(2)}</p>\r\n        <p className=\"text-gray-600\">Actual: ₹ {actualAmount.toFixed(2)}</p>\r\n        <div className=\"w-full bg-gray-200 rounded-full h-2 mt-2\">\r\n          <div\r\n            className=\"bg-blue-500 h-2 rounded-full\"\r\n            style={{ width: `${Math.min(progress, 100)}%` }}\r\n          ></div>\r\n        </div>\r\n        {progress > 100 && (\r\n          <p className=\"text-red-500 mt-2\">You've exceeded your budget!</p>\r\n        )}\r\n        {/* Delete Button */}\r\n      <button\r\n        onClick={onDelete}\r\n        className=\"absolute bottom-2 right-2 bg-red-500 text-white px-3 py-1 rounded hover:bg-red-700 transition\"\r\n      >\r\n        Delete\r\n      </button>\r\n      </div>\r\n    );\r\n  }"],"names":[],"mappings":";;;;AAAA;;AAoBS,SAAS,WAAW,EAAE,QAAQ,EAAE,MAAM,EAAE,eAAa,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAmB;IACtG,MAAM,eAAe,OAAO,WAAW;IACvC,MAAM,YAAY,IAAI,KAAK,MAAM,QAAQ,GAAE,GAAG,cAAc,CAAC,SAAS;QAAE,OAAO;IAAO;IAEtF,MAAM,uBAAuB,aAAa,MAAM,CAAC,CAAC;QAChD,MAAM,kBAAkB,IAAI,KAAK,GAAG,IAAI;QAExC,MAAM,kBAAkB,gBAAgB,cAAc;QACtD,MAAM,mBAAmB,gBAAgB,WAAW,KAAK;QACzD,OAAO,oBAAoB,QAAQ,qBAAqB,SAAS,GAAG,QAAQ,KAAK;IACnF;IAEA,MAAM,eAAe,qBAAqB,MAAM,CAAC,CAAC,KAAK,KAAO,MAAM,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK;IAClG,MAAM,WAAW,eAAe,IAAI,AAAC,eAAe,eAAgB,MAAM;IAE1E,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;;oBAAyB;oBAAS;oBAAI;oBAAU;oBAAE;;;;;;;0BAChE,8OAAC;gBAAE,WAAU;;oBAAgB;oBAAW,aAAa,OAAO,CAAC;;;;;;;0BAC7D,8OAAC;gBAAE,WAAU;;oBAAgB;oBAAW,aAAa,OAAO,CAAC;;;;;;;0BAC7D,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,WAAU;oBACV,OAAO;wBAAE,OAAO,GAAG,KAAK,GAAG,CAAC,UAAU,KAAK,CAAC,CAAC;oBAAC;;;;;;;;;;;YAGjD,WAAW,qBACV,8OAAC;gBAAE,WAAU;0BAAoB;;;;;;0BAGrC,8OAAC;gBACC,SAAS;gBACT,WAAU;0BACX;;;;;;;;;;;;AAKL","debugId":null}},
    {"offset": {"line": 416, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/Budget/BudgetForm.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const BudgetForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call BudgetForm() from the server but BudgetForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/Budget/BudgetForm.tsx <module evaluation>\",\n    \"BudgetForm\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,aAAa,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,kEACA","debugId":null}},
    {"offset": {"line": 430, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/Budget/BudgetForm.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const BudgetForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call BudgetForm() from the server but BudgetForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/Budget/BudgetForm.tsx\",\n    \"BudgetForm\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,aAAa,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,8CACA","debugId":null}},
    {"offset": {"line": 444, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 454, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/app/transactions/page.tsx"],"sourcesContent":["import { TransactionList } from \"@/components/TransactionList\";\r\nimport { TransactionForm } from \"@/components/TransactionForm\";\r\nimport { MonthlyExpensesChart } from \"@/components/MonthlyExpensesChart\";\r\nimport { CategoryPieChart } from \"@/components/CategoryPieChart\";\r\nimport { TotalExpensesCard } from \"@/components/TotalExpensesCard\";\r\nimport { RecentTransactionsCard } from \"@/components/RecentTransactionsCard\";\r\nimport { CategoryBreakdownCard } from \"@/components/CategoryBreakdownCard\";\r\nimport { BudgetVsActualChart } from \"@/components/Budget/BudgetVsActualChart\";\r\nimport BudgetModel, { Budget as BudgetType } from \"@/models/Budget\";\r\nimport { BudgetCard } from \"@/components/Budget/BudgetCard\";\r\nimport { BudgetForm } from \"@/components/Budget/BudgetForm\";\r\n\r\n// Define the Transaction type\r\ninterface Transaction {\r\n  _id: string;\r\n  amount: number;\r\n  date: string;\r\n  description: string;\r\n  category: \"Food\" | \"Transport\" | \"Shopping\" | \"Bills\" | \"Other\";\r\n}\r\n// Fetch transactions from the API\r\nasync function getTransactions(): Promise<Transaction[]> {\r\n  const res = await fetch(\"http://localhost:3000/api/transactions\", {\r\n    cache: \"no-store\", // Ensure fresh data on every request\r\n  });\r\n  const json = await res.json()\r\n  if (!res.ok) throw new Error(\"Failed to fetch transactions\");\r\n  return json.data || [];\r\n}\r\n\r\nasync function getBudgets(): Promise<BudgetType[]> {\r\n  const res = await fetch(\"http://localhost:3000/api/budgets\");\r\n  if (!res.ok) throw new Error(\"Failed to fetch budgets\");\r\n  const budgets = await res.json();\r\n  return budgets.data || [];\r\n}\r\n\r\n\r\nfunction calculateBudgetVsActual(transactions: Transaction[], budgets: BudgetType[]) {\r\n  const categoryTotals: { [key: string]: { [key: string]: number } } = {};\r\n\r\n  transactions.forEach((transaction) => {\r\n    const transactionDate = new Date(transaction.date);\r\n    const transactionMonth = transactionDate.getUTCMonth() + 1;\r\n    const transactionYear = transactionDate.getUTCFullYear();\r\n    const key = `${transaction.category}-${transactionMonth}-${transactionYear}`;\r\n\r\n    if (!categoryTotals[key]) {\r\n      categoryTotals[key] = { actual: 0 };\r\n    }\r\n    categoryTotals[key].actual += transaction.amount;\r\n  });\r\n\r\n  return budgets.map((budget) => {\r\n    const key = `${budget.category}-${budget.month}-${budget.year}`;\r\n\r\n    return {\r\n      category: budget.category,\r\n      budget: budget.amount,\r\n      actual: categoryTotals[key]?.actual || 0,\r\n      month: budget.month,\r\n      year: budget.year,\r\n    };\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\n// Calculate monthly expenses for the chart\r\nfunction calculateMonthlyExpenses(transactions: Transaction[]) {\r\n  const monthlyTotals: { [key: string]: number } = {};\r\n\r\n  transactions.forEach((transaction) => {\r\n    const month = new Date(transaction.date).toLocaleString(\"default\", {\r\n      month: \"short\",\r\n      year: \"numeric\",\r\n    });\r\n    if (!monthlyTotals[month]) {\r\n      monthlyTotals[month] = 0;\r\n    }\r\n    monthlyTotals[month] = (monthlyTotals[month] || 0) + transaction.amount;\r\n  });\r\n\r\n  return Object.keys(monthlyTotals).map((month) => ({\r\n    month,\r\n    total: monthlyTotals[month],\r\n  }));\r\n}\r\n\r\nfunction calculateCategoryExpenses(transactions: Transaction[]) {\r\n  const categoryTotals: { [key: string]: number } = {};\r\n\r\n  transactions.forEach((transaction) => {\r\n    const { category, amount } = transaction;\r\n    if (!categoryTotals[category]) {\r\n      categoryTotals[category] = 0;\r\n    }\r\n    categoryTotals[category] += amount;\r\n  });\r\n\r\n  return Object.keys(categoryTotals).map((category) => ({\r\n    name: category,\r\n    value: categoryTotals[category],\r\n  }));\r\n}\r\n\r\n\r\nexport default async function TransactionsPage() {\r\n  // Fetch transactions from the API\r\n  const transactions = await getTransactions();\r\n  const budgets = await getBudgets();\r\n  \r\n  const budgetVsActualData = calculateBudgetVsActual(transactions, budgets);\r\n\r\n  // Calculate monthly expenses for the chart\r\n  const monthlyExpenses = calculateMonthlyExpenses(transactions);\r\n  const categoryExpenses = calculateCategoryExpenses(transactions);\r\n  const totalExpenses = transactions.reduce((total, transaction) => total + transaction.amount, 0);\r\n  const recentTransactions = transactions.slice(0, 2);\r\n\r\n\r\n  //delete budget\r\n  async function handleDeleteBudget(id: string) {\r\n    \"use server\";\r\n  \r\n    try {\r\n      const response = await fetch(`http://localhost:3000/api/budgets/${id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n  \r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to delete budget\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error deleting budget:\", error);\r\n    }\r\n  }\r\n  \r\n\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-4 space-y-8\">\r\n      {/* Page Title */}\r\n      <h1 className=\"text-2xl font-bold\">Transactions</h1>\r\n\r\n      {/* Transaction Form */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Add New Transaction</h2>\r\n        <TransactionForm />\r\n      </div>\r\n      \r\n      {/* Budget form */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Set Budget</h2>\r\n        <BudgetForm />\r\n      </div>\r\n\r\n       {/* Budget Cards */}\r\n       <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {budgets?.length > 0 ? (\r\n        budgets.map((budget) => {\r\n        return (<BudgetCard\r\n        key={budget._id}\r\n        category={budget.category}\r\n        budget={budget.amount}\r\n        transactions={transactions}\r\n        month={budget.month}\r\n        year={budget.year}\r\n        onDelete={async () => {\r\n          await handleDeleteBudget(budget._id);\r\n        }}\r\n      />);\r\n})) : (\r\n      <p>No budget data available</p>\r\n      )}\r\n      </div>\r\n\r\n       {/* Budget vs Actual Comparison Chart */}\r\n       <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Budget vs Actual</h2>\r\n        <BudgetVsActualChart data={budgetVsActualData} />\r\n      </div>\r\n\r\n      {/* summary cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        <TotalExpensesCard total={totalExpenses} />\r\n        <CategoryBreakdownCard data={categoryExpenses} />\r\n        <RecentTransactionsCard transactions={recentTransactions} />\r\n      </div>\r\n\r\n      {/* Monthly Expenses Chart */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Monthly Expenses</h2>\r\n        <MonthlyExpensesChart data={monthlyExpenses} />\r\n      </div>\r\n      {/* categorywise monthly expenses */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Category-wise Expenses</h2>\r\n        <CategoryPieChart data={categoryExpenses} />\r\n      </div>\r\n\r\n      {/* Transaction List */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Transactions List</h2>\r\n        <TransactionList transactions={transactions} />\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 803, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}