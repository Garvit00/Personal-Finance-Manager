{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/TransactionList.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const TransactionList = registerClientReference(\n    function() { throw new Error(\"Attempted to call TransactionList() from the server but TransactionList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/TransactionList.tsx <module evaluation>\",\n    \"TransactionList\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,kBAAkB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,gEACA","debugId":null}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/TransactionList.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const TransactionList = registerClientReference(\n    function() { throw new Error(\"Attempted to call TransactionList() from the server but TransactionList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/TransactionList.tsx\",\n    \"TransactionList\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,kBAAkB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,4CACA","debugId":null}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/TransactionForm.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const TransactionForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call TransactionForm() from the server but TransactionForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/TransactionForm.tsx <module evaluation>\",\n    \"TransactionForm\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,kBAAkB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,gEACA","debugId":null}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/TransactionForm.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const TransactionForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call TransactionForm() from the server but TransactionForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/TransactionForm.tsx\",\n    \"TransactionForm\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,kBAAkB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,4CACA","debugId":null}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/MonthlyExpensesChart.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const MonthlyExpensesChart = registerClientReference(\n    function() { throw new Error(\"Attempted to call MonthlyExpensesChart() from the server but MonthlyExpensesChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/MonthlyExpensesChart.tsx <module evaluation>\",\n    \"MonthlyExpensesChart\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,uBAAuB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACtD;IAAa,MAAM,IAAI,MAAM;AAAwP,GACrR,qEACA","debugId":null}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/MonthlyExpensesChart.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const MonthlyExpensesChart = registerClientReference(\n    function() { throw new Error(\"Attempted to call MonthlyExpensesChart() from the server but MonthlyExpensesChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/MonthlyExpensesChart.tsx\",\n    \"MonthlyExpensesChart\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,uBAAuB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACtD;IAAa,MAAM,IAAI,MAAM;AAAwP,GACrR,iDACA","debugId":null}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/CategoryPieChart.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const CategoryPieChart = registerClientReference(\n    function() { throw new Error(\"Attempted to call CategoryPieChart() from the server but CategoryPieChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/CategoryPieChart.tsx <module evaluation>\",\n    \"CategoryPieChart\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,mBAAmB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAClD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,iEACA","debugId":null}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/CategoryPieChart.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const CategoryPieChart = registerClientReference(\n    function() { throw new Error(\"Attempted to call CategoryPieChart() from the server but CategoryPieChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/CategoryPieChart.tsx\",\n    \"CategoryPieChart\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,mBAAmB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAClD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,6CACA","debugId":null}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/TotalExpensesCard.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const TotalExpensesCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call TotalExpensesCard() from the server but TotalExpensesCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/TotalExpensesCard.tsx <module evaluation>\",\n    \"TotalExpensesCard\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,oBAAoB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACnD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,kEACA","debugId":null}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/TotalExpensesCard.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const TotalExpensesCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call TotalExpensesCard() from the server but TotalExpensesCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/TotalExpensesCard.tsx\",\n    \"TotalExpensesCard\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,oBAAoB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACnD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,8CACA","debugId":null}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/RecentTransactionsCard.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const RecentTransactionsCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call RecentTransactionsCard() from the server but RecentTransactionsCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/RecentTransactionsCard.tsx <module evaluation>\",\n    \"RecentTransactionsCard\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,yBAAyB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACxD;IAAa,MAAM,IAAI,MAAM;AAA4P,GACzR,uEACA","debugId":null}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/RecentTransactionsCard.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const RecentTransactionsCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call RecentTransactionsCard() from the server but RecentTransactionsCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/RecentTransactionsCard.tsx\",\n    \"RecentTransactionsCard\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,yBAAyB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACxD;IAAa,MAAM,IAAI,MAAM;AAA4P,GACzR,mDACA","debugId":null}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/CategoryBreakdownCard.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const CategoryBreakdownCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call CategoryBreakdownCard() from the server but CategoryBreakdownCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/CategoryBreakdownCard.tsx <module evaluation>\",\n    \"CategoryBreakdownCard\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,wBAAwB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACvD;IAAa,MAAM,IAAI,MAAM;AAA0P,GACvR,sEACA","debugId":null}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/CategoryBreakdownCard.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const CategoryBreakdownCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call CategoryBreakdownCard() from the server but CategoryBreakdownCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/CategoryBreakdownCard.tsx\",\n    \"CategoryBreakdownCard\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,wBAAwB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACvD;IAAa,MAAM,IAAI,MAAM;AAA0P,GACvR,kDACA","debugId":null}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/Budget/BudgetVsActualChart.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const BudgetVsActualChart = registerClientReference(\n    function() { throw new Error(\"Attempted to call BudgetVsActualChart() from the server but BudgetVsActualChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/Budget/BudgetVsActualChart.tsx <module evaluation>\",\n    \"BudgetVsActualChart\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,sBAAsB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACrD;IAAa,MAAM,IAAI,MAAM;AAAsP,GACnR,2EACA","debugId":null}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/Budget/BudgetVsActualChart.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const BudgetVsActualChart = registerClientReference(\n    function() { throw new Error(\"Attempted to call BudgetVsActualChart() from the server but BudgetVsActualChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/Budget/BudgetVsActualChart.tsx\",\n    \"BudgetVsActualChart\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,sBAAsB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACrD;IAAa,MAAM,IAAI,MAAM;AAAsP,GACnR,uDACA","debugId":null}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 311, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/Budget/BudgetCard.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const BudgetCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call BudgetCard() from the server but BudgetCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/Budget/BudgetCard.tsx <module evaluation>\",\n    \"BudgetCard\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,aAAa,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,kEACA","debugId":null}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/Budget/BudgetCard.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const BudgetCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call BudgetCard() from the server but BudgetCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/Budget/BudgetCard.tsx\",\n    \"BudgetCard\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,aAAa,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,8CACA","debugId":null}},
    {"offset": {"line": 339, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/Budget/BudgetForm.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const BudgetForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call BudgetForm() from the server but BudgetForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/Budget/BudgetForm.tsx <module evaluation>\",\n    \"BudgetForm\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,aAAa,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,kEACA","debugId":null}},
    {"offset": {"line": 363, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/components/Budget/BudgetForm.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const BudgetForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call BudgetForm() from the server but BudgetForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/Budget/BudgetForm.tsx\",\n    \"BudgetForm\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,aAAa,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,8CACA","debugId":null}},
    {"offset": {"line": 377, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 387, "column": 0}, "map": {"version":3,"sources":["file://E%3A/coding%20things/developers/personal%20finance%20visualizer/p-f-v/app/transactions/page.tsx"],"sourcesContent":["import { TransactionList } from \"@/components/TransactionList\";\r\nimport { TransactionForm } from \"@/components/TransactionForm\";\r\nimport { MonthlyExpensesChart } from \"@/components/MonthlyExpensesChart\";\r\nimport { CategoryPieChart } from \"@/components/CategoryPieChart\";\r\nimport { TotalExpensesCard } from \"@/components/TotalExpensesCard\";\r\nimport { RecentTransactionsCard } from \"@/components/RecentTransactionsCard\";\r\nimport { CategoryBreakdownCard } from \"@/components/CategoryBreakdownCard\";\r\nimport { BudgetVsActualChart } from \"@/components/Budget/BudgetVsActualChart\";\r\nimport BudgetModel, { Budget as BudgetType } from \"@/models/Budget\";\r\nimport { BudgetCard } from \"@/components/Budget/BudgetCard\";\r\nimport { BudgetForm } from \"@/components/Budget/BudgetForm\";\r\n\r\n// Define the Transaction type\r\ninterface Transaction {\r\n  _id: string;\r\n  amount: number;\r\n  date: string;\r\n  description: string;\r\n  category: \"Food\" | \"Transport\" | \"Shopping\" | \"Bills\" | \"Other\";\r\n}\r\n// Fetch transactions from the API\r\nasync function getTransactions(): Promise<Transaction[]> {\r\n  const res = await fetch(\"http://localhost:3000/api/transactions\", {\r\n    cache: \"no-store\", // Ensure fresh data on every request\r\n  });\r\n  if (!res.ok) throw new Error(\"Failed to fetch transactions\");\r\n  const transactions = await res.json()\r\n  return transactions.data || [];\r\n}\r\n\r\nasync function getBudgets(): Promise<BudgetType[]> {\r\n  const res = await fetch(\"http://localhost:3000/api/budgets\",{\r\n    cache: \"no-store\",\r\n  });\r\n  if (!res.ok) throw new Error(\"Failed to fetch budgets\");\r\n  const budgets = await res.json();\r\n  return budgets.data || [];\r\n}\r\n\r\n\r\nfunction calculateBudgetVsActual(transactions: Transaction[], budgets: BudgetType[]) {\r\n  const categoryTotals: { [key: string]: { [key: string]: number } } = {};\r\n\r\n  transactions.forEach((transaction) => {\r\n    const transactionDate = new Date(transaction.date);\r\n    const transactionMonth = transactionDate.getUTCMonth() + 1;\r\n    const transactionYear = transactionDate.getUTCFullYear();\r\n    const key = `${transaction.category}-${transactionMonth}-${transactionYear}`;\r\n\r\n    if (!categoryTotals[key]) {\r\n      categoryTotals[key] = { actual: 0 };\r\n    }\r\n    categoryTotals[key].actual += transaction.amount;\r\n  });\r\n\r\n  return budgets.map((budget) => {\r\n    const key = `${budget.category}-${budget.month}-${budget.year}`;\r\n\r\n    return {\r\n      category: budget.category,\r\n      budget: budget.amount,\r\n      actual: categoryTotals[key]?.actual || 0,\r\n      month: budget.month,\r\n      year: budget.year,\r\n    };\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\n// Calculate monthly expenses for the chart\r\nfunction calculateMonthlyExpenses(transactions: Transaction[]) {\r\n  const monthlyTotals: { [key: string]: number } = {};\r\n\r\n  transactions.forEach((transaction) => {\r\n    const month = new Date(transaction.date).toLocaleString(\"default\", {\r\n      month: \"short\",\r\n      year: \"numeric\",\r\n    });\r\n    if (!monthlyTotals[month]) {\r\n      monthlyTotals[month] = 0;\r\n    }\r\n    monthlyTotals[month] = (monthlyTotals[month] || 0) + transaction.amount;\r\n  });\r\n\r\n  return Object.keys(monthlyTotals).map((month) => ({\r\n    month,\r\n    total: monthlyTotals[month],\r\n  }));\r\n}\r\n\r\nfunction calculateCategoryExpenses(transactions: Transaction[]) {\r\n  const categoryTotals: { [key: string]: number } = {};\r\n\r\n  transactions.forEach((transaction) => {\r\n    const { category, amount } = transaction;\r\n    if (!categoryTotals[category]) {\r\n      categoryTotals[category] = 0;\r\n    }\r\n    categoryTotals[category] += amount;\r\n  });\r\n\r\n  return Object.keys(categoryTotals).map((category) => ({\r\n    name: category,\r\n    value: categoryTotals[category],\r\n  }));\r\n}\r\n\r\n\r\nexport default async function TransactionsPage() {\r\n  // Fetch transactions from the API\r\n  const transactions = await getTransactions();\r\n  const budgets = await getBudgets();\r\n  \r\n  //calculate data for charts and summaries\r\n  const budgetVsActualData = calculateBudgetVsActual(transactions, budgets);\r\n  const monthlyExpenses = calculateMonthlyExpenses(transactions);\r\n  const categoryExpenses = calculateCategoryExpenses(transactions);\r\n  const totalExpenses = transactions.reduce((total, transaction) => total + transaction.amount, 0);\r\n  const recentTransactions = transactions.slice(0, 2);  \r\n\r\n  // deleting budget\r\n  const handleDeleteBudget = async (id: string) => {\r\n    \"use server\";\r\n    await fetch(`http://localhost:3000/api/budgets/${id}`,{\r\n      method: \"DELETE\",\r\n    });\r\n  };\r\n\r\n  //deleting transaction\r\n  const handleDeleteTransaction = async (id: string) => {\r\n    \"use server\";\r\n    await fetch(`http://localhost:3000/api/transactions/${id}`,{\r\n      method: \"DELETE\",\r\n    });\r\n  };\r\n  \r\n\r\n  return (\r\n    <div className=\"container mx-auto p-4 space-y-8\">\r\n      {/* Page Title */}\r\n      <h1 className=\"text-2xl font-bold\">Transactions</h1>\r\n\r\n      {/* Transaction Form */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Add New Transaction</h2>\r\n        <TransactionForm />\r\n      </div>\r\n      \r\n      {/* Budget form */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Set Budget</h2>\r\n        <BudgetForm />\r\n      </div>\r\n\r\n       {/* Budget Cards */}\r\n       <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {budgets?.length > 0 ? (\r\n        budgets.map((budget) => {\r\n        return (<BudgetCard\r\n        key={budget._id}\r\n        id={budget._id}\r\n        category={budget.category}\r\n        budget={budget.amount}\r\n        transactions={transactions}\r\n        month={budget.month}\r\n        year={budget.year}\r\n        onDelete={handleDeleteBudget}\r\n        \r\n      />);\r\n})) : (\r\n      <p>No budget data available!!</p>\r\n      )}\r\n      </div>\r\n       {/* Budget vs Actual Comparison Chart */}\r\n       <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Budget vs Actual</h2>\r\n        <BudgetVsActualChart data={budgetVsActualData} />\r\n      </div>\r\n\r\n      {/* summary cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        <TotalExpensesCard total={totalExpenses} />\r\n        <CategoryBreakdownCard data={categoryExpenses} />\r\n        <RecentTransactionsCard transactions={recentTransactions} />\r\n      </div>\r\n\r\n      {/* Monthly Expenses Chart */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Monthly Expenses</h2>\r\n        <MonthlyExpensesChart data={monthlyExpenses} />\r\n      </div>\r\n      {/* categorywise monthly expenses */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Category-wise Expenses</h2>\r\n        <CategoryPieChart data={categoryExpenses} />\r\n      </div>\r\n\r\n      {/* Transaction List */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Transactions List</h2>\r\n            <TransactionList\r\n              transactions = {transactions}\r\n              onDelete={handleDeleteTransaction}\r\n            />\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 739, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}